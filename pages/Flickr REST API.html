<!DOCTYPE html>
<html>
<head>
	<title>Flickr REST API</title>
	
	<script type="text/javascript" src="../js/jquery/jquery.js"></script>
	
<script type="text/javascript">
$(document).ready(function() {
    $("#searchOption").val();
    $("#searchButton").click(function() {
		$(".images").empty();
        $.ajax({
            url: "https://api.flickr.com/services/rest",
            jsonpCallback: "jsonFlickrApi",
            dataType: "jsonp",
            data: {
                api_key: "918d7d98cc6dd5aba435e4973db24845",
                format: "json",
                method: "flickr.photos.search",	
                text: $("#searchOption").val()
            },
            success: function(data) {
                console.log(data);
                $.each(data.photos.photo, function(index, photo) {
					console.log(photo);
					var farm_id = photo.farm;
                    var secret_id = photo.secret;
					var server_id = photo.server;
					var ident = photo.id;
					var imagelink = "https://farm" + farm_id + ".staticflickr.com/" + server_id + "/" + ident + "_" + secret_id +"_q.jpg"

                    addImage("<a href=" + imagelink + ">" + "<img src=\"" + imagelink + "\" title=\"" + ident + "_" + secret_id + "_q.jpg\">" + "</a>");
                });
            }
        });
    })
});

function addImage(data) {
    $(".images").append(data);
	}

			 
</script>
</head>
<body>


</body>
</html>